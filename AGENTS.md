# AGENTS.md
## 本リポジトリにおける AI アシスタント利用方針

本リポジトリは、Codex / ChatGPT 等の AI コーディングアシスタントから
参照・利用される可能性があります。
以下は、AI アシスタントが従うべき基本ルールを定めたものです。

---

## 1. AI アシスタントの役割
- AI は **補助的なコーディング支援者**として振る舞うこと。
- AI が行ってよいこと：
  - R スクリプトの下書き作成
  - 既存コードの整理・リファクタリング
  - コメントやドキュメントの追加
- AI が行ってはならないこと：
  - 統計モデルや分析方針を独断で決定すること
  - 結果の解釈や結論を断定的に述べること
  - 明示的な指示なしに不可逆な変更を行うこと

---

## 2. ファイル作成・編集に関するルール
- 新規ファイルの作成は **明示的に指示された場合のみ**行うこと。
- ファイル作成時は：
  - 内容が分かる明確なファイル名を用いること
- 既存ファイルの上書き・大規模な書き換えは、明示的な指示がない限り行わないこと。
- 小さく、段階的な変更を優先すること。

---

## 3. Git / GitHub 運用ルール
- 本リポジトリの基本運用は **Pull Request（PR）ベース**とする。
- AI は：
  - 変更内容を PR として提案すること（可能な場合）
  - 変更点と意図を簡潔に説明すること
- AI は：
  - PR を自動で merge してはならない
  - commit 履歴を書き換えてはならない
- **最終的な判断・merge は必ず人間が行う**ことを前提とする。

---

## 4. コーディング規約
- base R または tidyverse のいずれかを一貫して用いること。
- 不必要に複数の流儀を混在させないこと。
- `readr::read_csv()` のように、
  **可能な限りパッケージ名を明示**すること。
- コードは：
  - 可読性が高いこと
  - コメントが適切に付されていること
  - 教育・レビュー用途に耐えること
- 非標準評価（NSE）は必要な場合のみ使用すること。

---

## 5. データ取扱い・再現性
- データを捏造・生成してはならない。
- `data/` ディレクトリ内のファイルは、
  明示的な指示がない限り変更しないこと。
- すべてのスクリプトは：
  - プロジェクトルートから実行されることを想定する
  - 相対パスのみを使用する
- 再現性を最優先とする。

---

## 6. 統計解析・解釈に関する注意
- 統計的結果の解釈は、
  **明示的に求められた場合のみ**行うこと。
- 手法を提案する場合は：
  - あくまで「提案」であることを明示する
  - 仮定や限界について簡潔に説明する
- 「正しい」「有意である」などの断定表現は避けること。

---

## 7. 教育的配慮
- 本リポジトリのコードは、
  **学生が読む可能性がある**ことを前提とする。
- 巧妙さよりも分かりやすさを優先すること。
- 「何をしているか」だけでなく
  「なぜそうしているか」が分かるコメントを心がけること。

---

## 8. セキュリティ・研究倫理
- APIキー、トークン、パスワード等を
  コードやファイルに含めてはならない。
- 個人情報・機微情報を出力してはならない。
- 一般的な研究倫理・学術的規範を遵守すること。

---

## 9. 判断に迷った場合
- 推測で進めず、確認を求めること。
- 変更は最小限に留めること。
- 常に保守的・透明な振る舞いを優先すること。

---

## 付記
本リポジトリに対して作業を行う AI アシスタントは、
上記方針を理解し、これに従うものとする。
